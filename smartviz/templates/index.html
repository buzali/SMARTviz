<!DOCTYPE html>
<html lang="en" ng-app="StarterApp">
	<head>
		<link rel="stylesheet" href="//ajax.googleapis.com/ajax/libs/angular_material/0.8.2/angular-material.min.css">
		<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	</head>
	<body ng-controller="AppCtrl" layout="column">
		{% verbatim %}
		<section layout="row" flex>
	    <md-sidenav class="md-sidenav-left md-whiteframe-z2" md-component-id="left" md-is-locked-open="true">
	      <md-toolbar class="md-theme-indigo">
	        <h1 class="md-toolbar-tools">Locations</h1>
	      </md-toolbar>
	      <md-content class="md-padding" ng-controller="LeftCtrl">
	        
			<div layout="column">
			<div>
			  <md-content>
			    <md-list>
			      <md-item ng-repeat="item in todos">
			        <md-item-content>
			          <div class="md-tile-left">
				          <div class="image" style="background-image:url({{item.titleImage}})"></div>
			          </div>
			          <div class="md-tile-content">
			            <h3>{{item.type}}</h3>
			            <h4>{{item.title}}</h4>
			            <p>
			              {{item.description}}
			            </p>
			          </div>
			        </md-item-content>
			      </md-item>
			    </md-list>
			  </md-content>
			</div>
			</div>
	      </md-content>
	    </md-sidenav>
	    <md-content flex>
				<ui-gmap-google-map center='map.center' zoom='map.zoom'></ui-gmap-google-map>
		</md-content>
		</section>
		{% endverbatim %}
		
		<!-- Angular Material Dependencies -->
		<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular.min.js"></script>
		<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.6/angular-animate.min.js"></script>
		<script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular-aria.min.js"></script>
		<script src='//maps.googleapis.com/maps/api/js?sensor=false'></script>
		<script src="../static/lodash.min.js"></script>
		<script src="../static/angular-google-maps.min.js"></script>
		
		<script src="//ajax.googleapis.com/ajax/libs/angular_material/0.8.2/angular-material.min.js"></script>
    
    
    	<script>
			angular.module('StarterApp', ['uiGmapgoogle-maps','ngMaterial'])
			.controller('AppCtrl', function($scope, $timeout, $mdSidenav, $log, $http) {
			  $scope.map = { center: { latitude: 45, longitude: -73 }, zoom: 8 };
	          $(".angular-google-map-container").height($(window).height());
		        
			    var httpRequest = $http({
		            method: 'POST',
		            url: '/related/twitter/soup%20kitchen',
		
		        }).success(function(data, status) {
		            $scope.todos = data;
		        });
			})
			.controller('LeftCtrl', function($scope, $timeout, $mdSidenav, $log) {
			  $scope.close = function() {
			    $mdSidenav('left').close()
			                      .then(function(){
			                        $log.debug("close LEFT is done");
			                      });
			  };
			});
		</script>
		<style>
		
			.md-tile-left div.image {
				border-radius: 30px;
				border: 1px solid #ddd;
				width: 48px;
				height:48px;
				background-size:cover;
				margin: 16px; }
				.angular-google-map-container { height: 100px; width:100%; }
		</style>
	</body>
</html>